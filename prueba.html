<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cortinilla de Imágenes</title>
    <style>
      body {
        margin: 0;
        font-family: Arial, sans-serif;
        height: 100vh;
        background-color: #f0f0f0;
        display: flex;
        justify-content: flex-end;
        align-items: center;
      }

      .cortinilla {
        width: 50%; /* Mitad derecha de la pantalla */
        height: 100vh; /* Toda la altura del viewport */
        overflow: hidden; /* Oculta cualquier contenido excedente */
        position: relative; /* Para que se ancle a la derecha */
        right: 0; /* Colocado en la mitad derecha */
        top: 0; /* Comienza desde la parte superior */
      }

      .imagenes {
        display: flex;
        width: 100%; /* Ancho completo del marco */
        height: 100%; /* Altura completa del marco */
        transition: transform 2s ease-in-out;
      }

      .imagen {
        flex: 0 0 100%; /* Cada imagen ocupa todo el ancho del contenedor */
        height: 100%; /* Altura completa del marco */
        overflow: hidden; /* Oculta las partes de la imagen que sobresalgan */
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .imagen img {
        height: 100%; /* Ajusta la altura al marco */
        width: auto; /* Mantén las proporciones al ajustar la altura */
        object-fit: cover; /* Recorta y oculta el exceso horizontal */
      }
    </style>
  </head>
  <body>
    <div class="cortinilla">
      <div class="imagenes">
        <div class="imagen">
          <img
            src="https://ik.imagekit.io/bnkcab5v4/mockup-1.jpg"
            alt="Imagen 1"
          />
        </div>
        <div class="imagen">
          <img
            src="https://ik.imagekit.io/bnkcab5v4/muhleim_medieval_2_final.jpg"
            alt="Imagen 2"
          />
        </div>
        <div class="imagen">
          <img
            src="https://ik.imagekit.io/bnkcab5v4/armadura_roggendorf_1.png"
            alt="Imagen 3"
          />
        </div>
        <div class="imagen">
          <img
            src="https://ik.imagekit.io/bnkcab5v4/tamborilero_sombrero_final.jpg"
            alt="Imagen 4"
          />
        </div>
        <div class="imagen">
          <img
            src="https://ik.imagekit.io/bnkcab5v4/mockup-1.jpg"
            alt="Imagen 5"
          />
        </div>
        <!-- Duplicamos la primera imagen para que la transición sea seamless -->
        <div class="imagen">
          <img
            src="https://ik.imagekit.io/bnkcab5v4/mockup-1.jpg"
            alt="Imagen 5"
          />
        </div>
      </div>
    </div>

    <script>
      const imagenes = document.querySelector(".imagenes");
      const totalImagenes = document.querySelectorAll(".imagen").length;
      let indiceActual = 0;

      function avanzarCortinilla() {
        const ancho = document.querySelector(".cortinilla").clientWidth;
        indiceActual++;

        // Si hemos llegado al final (la imagen duplicada), reiniciamos la posición sin transición
        if (indiceActual >= totalImagenes - 1) {
          imagenes.style.transition = "none";
          imagenes.style.transform = `translateX(0)`;
          indiceActual = 0;
          // Después de reiniciar, reactivamos la transición y avanzamos a la segunda imagen
          setTimeout(() => {
            imagenes.style.transition = "transform 1.5s ease-in-out";
            avanzarCortinilla();
          }, 50); // Esperamos un poco para que la transición se active correctamente
        } else {
          imagenes.style.transform = `translateX(-${indiceActual * ancho}px)`;
        }
      }

      setInterval(avanzarCortinilla, 2400);
    </script>
  </body>
</html>
